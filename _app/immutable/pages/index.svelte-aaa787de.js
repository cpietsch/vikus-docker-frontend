import{S as L,i as H,s as K,e as _,t as k,k as b,c as g,a as I,h as E,d as u,m as v,b as f,g as S,H as r,P as q,Q as P,E as T,R as N,w as O,T as B,x as G,y as Q,q as z,o as A,B as J}from"../chunks/index-f7dd684f.js";import{b as M}from"../chunks/api-a1f7356f.js";import{g as W}from"../chunks/navigation-0e6511d1.js";import{b as X}from"../chunks/paths-396f020f.js";import"../chunks/singletons-d1fb5791.js";function D(h){let e,a,s,o,t,d;return{c(){e=_("div"),a=_("p"),s=k("Error"),o=b(),t=_("p"),d=k("That doesn't look like a IIIF V3 collection URL."),this.h()},l(c){e=g(c,"DIV",{class:!0});var n=I(e);a=g(n,"P",{class:!0});var l=I(a);s=E(l,"Error"),l.forEach(u),o=v(n),t=g(n,"P",{});var w=I(t);d=E(w,"That doesn't look like a IIIF V3 collection URL."),w.forEach(u),n.forEach(u),this.h()},h(){f(a,"class","font-semibold"),f(e,"class","mt-4 p-4 bg-red-100 text-red-500 rounded-md")},m(c,n){S(c,e,n),r(e,a),r(a,s),r(e,o),r(e,t),r(t,d)},d(c){c&&u(e)}}}function Y(h){let e,a,s,o,t,d,c,n,l,w,m,y,V,U,C,i=h[1]&&D();return{c(){e=_("div"),a=_("h1"),s=k("Create a new VIKUS Viewer instance"),o=b(),t=_("p"),d=k("Paste a IIIF V3 collection URL here and we will parse it and create a new instance for you."),c=b(),n=_("figure"),l=_("input"),w=b(),m=_("button"),y=k("Create"),V=b(),i&&i.c(),this.h()},l(x){e=g(x,"DIV",{class:!0});var p=I(e);a=g(p,"H1",{class:!0});var R=I(a);s=E(R,"Create a new VIKUS Viewer instance"),R.forEach(u),o=v(p),t=g(p,"P",{class:!0});var F=I(t);d=E(F,"Paste a IIIF V3 collection URL here and we will parse it and create a new instance for you."),F.forEach(u),c=v(p),n=g(p,"FIGURE",{class:!0});var $=I(n);l=g($,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),w=v($),m=g($,"BUTTON",{type:!0,class:!0});var j=I(m);y=E(j,"Create"),j.forEach(u),$.forEach(u),V=v(p),i&&i.l(p),p.forEach(u),this.h()},h(){f(a,"class","text-3xl sm:text-4xl font-bold text-slate-900 tracking-tight dark:text-slate-200"),f(t,"class","mt-4 mb-6 text-slate-700 dark:text-slate-400"),f(l,"type","url"),f(l,"name","url"),f(l,"id","url"),f(l,"class","rounded-lg flex-auto p-2 mr-1 border-2 border-gray-300"),f(l,"placeholder","https://iiif.wellcomecollection.org/presentation/collections/genres/Stickers"),l.required=!0,f(m,"type","submit"),f(m,"class","py-2 px-3 w-32 bg-cyan-500 text-white text-sm font-semibold rounded-md shadow-lg hover:shadow-cyan-500/50 focus:outline-none"),f(n,"class","flex shadow-xl rounded-xl p-8 bg-white dark:bg-slate-800"),f(e,"class","flex-auto max-w-4xl")},m(x,p){S(x,e,p),r(e,a),r(a,s),r(e,o),r(e,t),r(t,d),r(e,c),r(e,n),r(n,l),q(l,h[0]),r(n,w),r(n,m),r(m,y),r(e,V),i&&i.m(e,null),U||(C=[P(l,"change",h[3]),P(l,"input",h[4]),P(m,"click",h[2])],U=!0)},p(x,[p]){p&1&&q(l,x[0]),x[1]?i||(i=D(),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:T,o:T,d(x){x&&u(e),i&&i.d(),U=!1,N(C)}}}function Z(h,e,a){let s="https://iiif.wellcomecollection.org/presentation/collections/genres/Stickers",o=null;const t=async n=>{n.preventDefault();let l=!1;try{l=(await(await fetch(s)).json()).type==="Collection"}catch{l=!1}if(!l){a(1,o=!0);return}const w=await M("POST",`/instances?url=${s}`),m=await w.json();w.ok&&W(`${X}/instances/${m.id}`)},d=n=>a(1,o=null);function c(){s=this.value,a(0,s)}return[s,o,t,d,c]}class ee extends L{constructor(e){super(),H(this,e,Z,Y,K,{})}}function te(h){let e,a,s,o;return s=new ee({}),{c(){e=b(),a=_("section"),O(s.$$.fragment),this.h()},l(t){B('[data-svelte="svelte-j5p36l"]',document.head).forEach(u),e=v(t),a=g(t,"SECTION",{});var c=I(a);G(s.$$.fragment,c),c.forEach(u),this.h()},h(){document.title="VIKUS Docker IIIF"},m(t,d){S(t,e,d),S(t,a,d),Q(s,a,null),o=!0},p:T,i(t){o||(z(s.$$.fragment,t),o=!0)},o(t){A(s.$$.fragment,t),o=!1},d(t){t&&u(e),t&&u(a),J(s)}}}const oe=!1;class ie extends L{constructor(e){super(),H(this,e,null,te,K,{})}}export{ie as default,oe as prerender};
